AI Copilot의 시대 with Copilot Stack (Azure AI Studio, Plugins, Prompt Flow)
OpenAI 서비스 모델을 사용하고, 고객만의 Copilot을 직접 구축할 수 있는 Azure AI Studio를 소개합니다. 또한, 새로 나온 Copilot Stack으로 메타 프롬프트를 만드는 과정, 플러그인을 적용하는 방법 등을 알아보세요
마이크로소프트 빌드에서 소개된 AI의 주요 기능에 대해 말씀드리려고 합니다. OpenAI 서비스 모델을 사용하고 고객만의 코파일럿을 직접 구축할 수 있는 Azure AI 스튜디오를 소개합니다. 또한 새로 나온 코파일럿 스택을 메타 프롬포트를 만드는 과정, 플러그인을 적용하는 방법을 말씀드리도록 하겠습니다. Azure AI 포트폴리오에 대해 우선 간단히 소개 드리겠습니다. AI를 비즈니스 목적에 맞게끔 다양한 서비스를 활용할 수 있습니다. 맨 위에 AI 모델을 비즈니스 시나리오에 맞게끔 활용 가능한 서비스인 Applied AI 서비스가 있습니다. 또한 AI 모델을 직접 활용 가능한 Cognitive 서비스가 있고요. 여기에 Azure OpenAI 서비스가 포함되어 활용 가능합니다. 추가로 Azure Machine Learning을 활용한 모델 학습 및 배포 운영이 가능합니다. 코파일럿의 구조에 대해 들어가 보겠습니다. 코파일럿은 크게 Front-end, Mid-tier & Orchestration, Back-end 이 세 부분으로 나뉩니다. Front-end에서는 여러분의 제품 아이디어에 대해 이야기하게 됩니다. 코파일럿을 통한 사용자 경험은 기존의 방식과 조금은 다릅니다. 사용자는 자연스러운 언어로 원하는 것을 표현하게 됩니다. 코파일럿에서 우리는 모델이 작업에 집중하도록 유지하는 것이 굉장히 중요해졌습니다. 다음으로 Orchestration에 대해서 이야기하겠습니다. Orchestration은 코파일럿의 비즈니스 로직입니다. 저희는 마이크로소프트 내에서 Orchestration 메커니즘을 구상하고 거기에 대한 공통점을 찾아서 만든 것이 Cementic Kernel입니다. 또한 여러분도 많이 아시겠지만 에코시스템에서 잘 작동하는 몇 가지 Open Source Orchestration 도구를 제공하고 있습니다. 여러분도 잘 아시다시피 랭체인은 가장 인기 있는 Open Source Orchestration 메커니즘입니다. Orchestration은 여전히 새로운 아이디어가 많이 나올 것이고 여기 모든 분들이 원하는 Orchestration을 메커니즘을 자유롭게 사용할 수 있다는 점을 보장하고 있습니다. 그리고 Open Source를 통해 좋은 옵션들을 제시할 것으로 보고 있습니다. Orchestration 레이어에서 핵심적으로 다룰 것은 프롬포트입니다. 프롬포트는 사용자 경험 레이어에 생성하는 토큰들의 집합입니다. 이는 빙챗 혹은 채집비트 등에서 사용자가 모델에게 요청하는 질문이나 작업일 수도 있고 사용자가 아닌 애플리케이션에서 구성한 것일 수도 있습니다. 안전성을 보정하기 위해 이러한 프롬포트를 다루는 초기 단계에서 프롬포트 응답 필터링이 큰 역할을 합니다. 모델의 응답이 애플리케이션의 요구사항을 충족하지 못하거나 불완전할 수 있으므로 프롬포트를 필터링하는 작업이 필요합니다. 다음으로는 메타 프롬포트라는 프롬포트 코드 단위가 있습니다. 이는 챗봇에게 주는 지속적인 명령어로 각 대화의 차례마다 모델에게 어떻게 작동할지를 지시합니다. 이를 통해 모델의 성격을 설정하고 새로운 능력을 가르치게 됩니다. 예를 들어 빙챗이 좀 더 균형 잡히게 혹은 정확하게 작동하도록 설정하는데 사용됩니다. 메타 프롬포트와 프롬포트 필터링 단계를 지나면 그라운딩에 대해 고민하게 됩니다. 그라운딩은 프롬포트에 추가적인 맥락을 제공하는 것이므로 모델이 프롬포트에 대해 응답하는 데 도움이 됩니다. 오케스트레이션 레이어를 다 거쳐나가면 최하단에는 기초 모델과 인프라가 있습니다. Azure와 인도에서 제공하는 코파일러 플랫폼에서는 채 GPT 모델이나 GPT 모델과 같이 호스팅된 기초 모델을 사용할 수 있습니다. 만약 이러한 선택지가 여러분에게 맞지 않다면 오케스트레이션 레이어에서 코파일러에서 필요한 작업을 수행할 수 없도록 하거나 API로 완전히 문제를 해결할 수 없는 경우 직접 모델을 가져올 수 있습니다. 그리고 Azure AI 카탈로그에서 오픈소스 커뮤니티인 Hugging Face와 GitHub에서 가장 인기 있는 모델을 찾아 Azure에 배포하는 것을 확인할 수 있습니다. 그라운딩은 프롬포트에 추가적인 맥락을 제공하는 것입니다. 빙챗의 경우 대표적인 예시입니다. 이는 검색 결과를 통해서 새로운 응답을 생성하는 방법인 Retriever Augmented Generation, 즉, REG를 최초로 도입한 서비스라고 볼 수 있습니다. 사용자의 질문, 즉, 프롬포트를 바탕으로 검색을 조회하고 관련 문서를 찾아내게 됩니다. 이렇게 찾아낸 문서들을 프롬포트에 추가하고 이를 모델에게 전달합니다. 이렇게 추가적인 맥락을 제공함으로써 모델은 좀 더 정확한 답변을 제공할 수 있게 됩니다. 최근에는 벡터 데이터베이스를 사용해서 검색 증강 생성이 굉장히 활발하게 이용되고 있습니다. 프롬포트를 바탕으로 인베딩을 계산하고 이 인베딩으로 새긴된 벡터 데이터베이스에서 조회를 수행하고 프롬포트와 관련된 문서를 더 정확하게 찾아 냅니다. 더욱 정확한 답변을 제공할 수 있게 되는 것입니다. 물론 웹 API 플러그인을 사용해서 수행하는 것도 가능합니다. Azure OpenAI 서비스에서는 GPT 모델과 채 GPT를 사용할 수 있습니다. 이번에 업데이트된 내용은 크게 3가지입니다. 사용자의 데이터를 기반으로 서비스를 배포할 수 있고 provisioned throughput으로 사전에 확보된 리소스로 안정적인 서비스가 가능해졌습니다. 그리고 플러그인을 통해 다양한 웹상의 최신 정보와 연결되어 있어서 사용자들에게 가장 유용하고 관련성 있는 정보를 제공할 수 있게 됩니다. Azure Machine Learning에서는 오픈소스 커뮤니티에 인기 있는 모델들을 활용할 수 있습니다. 그리고 프롬프트 플로우를 이용해서 다양한 언어 모델과 데이터 소스를 연결하는 AI 워크플로우를 생성할 수 있습니다. 그리고 책임감 있는 AI를 위해서 컨텐츠 세이프티 등을 제공하고 있습니다. 네, 첫째로 사용자의 데이터를 기반으로 Azure OpenAI와 연동되는 기능을 말씀드리겠습니다. 우선 API 인터페이스에 대해 말씀을 드리면 Chat Completions API라는 것인데 이것은 챗봇 시나리오를 가능하게 합니다. 이 API는 시스템 필드를 이용해서 모델의 행동을 정확하게 지시하거나 어떠한 매개 변수를 사용해야 하는지 등을 지시할 수 있습니다. 그리고 이 API는 유저와 어시스턴트가 역할을 하여서 프롬프트에 많은 예시를 제공해서 모델을 구성할 수 있습니다. 우리는 이 시스템 메시지와 예시를 사용하는 방법이 과거의 세밀한 조정 방식보다 훨씬 유용하다는 것을 알 수 있습니다. 자신의 데이터를 기반으로 Azure OpenAI를 손쉽게 구축할 수 있게 되었습니다. 즉, GPT 3.5 Turbo, 혹은 GPT 4 같은 모델과 본인의 데이터를 조합하여 개인화된 비서를 만드는 것이 가능합니다. 이 모든 과정은 Azure 플랫폼에서 안전하게 이루어지면서 데이터는 절대 다른 사람과 공유되지 않습니다. 고객분들의 데이터는 저희의 Azure 시스템을 향상시키거나 머신러닝 모델을 훈련하는 데는 절대 사용되지 않습니다. Azure에서 많은 데이터 소스를 제공하며 앞으로 몇 달 안에 개발할 수 있는 데이터 소스는 모델들을 제공하며 앞으로 몇 달 안에 추가적인 데이터 소스를 확장할 계획입니다. 이 모든 것은 모델의 기능을 확장하여 자신의 데이터를 기반으로 한 작업을 가능하게 하기 위한 것입니다. 네, 그럼 Principal PM인 Seth의 데모 영상을 통해 같이 확인해 보겠습니다. 이제 저만의 Copilot을 만들 수가 있습니다. 그런데 이전에는 Azure OpenAI 서비스를 이용해서 본인만의 데이터를 이해하는 개인화된 Copilot을 만드는 것이 그 어느 때보다 간단해졌습니다. 여기서 저는 Contos라는 아웃드워 회사의 일원이라고 과정해 보겠습니다. 제품의 반품 정책에 대한 구체적인 질문을 하면 AI는 매우 효과적으로 그리고 올바른 문서를 참고하여 응답을 합니다. 그런데 어떻게 이런 일이 가능한 것일까요? Azure 포털로 이동해서 새로운 Azure OpenAI 리소스를 생성합니다. 이는 다른 Azure 리소스와 동일하게 작동합니다. 생성하고 나면 Azure AI Studio라는 새로운 경험을 제공받게 되는데 이를 통해 사용자의 데이터로 AI 모델을 손쉽게 설정할 수 있습니다. 사용 가능한 모델 중에서 GPT 3.5나 GPT 4를 설정할 수 있습니다. 이 시스템을 통해 테스트를 해 볼 수도 있는데 예를 들어 저는 캠핑에 관해 물어봤을 때 채집 GPT가 아주 좋은 답변을 제공합니다. 그런데 만약 제가 트레일마스터 X4 텐트에 대한 반품 정책에 대해 물어보면 어떨까요? AI는 모른다는 답변을 할 것입니다. 그렇다면 어떻게 이 문제를 해결하고 어떻게 데이터를 추가할 수 있을까요? 앞서 언급했던 레그 패턴이 이럴 때 사용됩니다. 즉, 팩트를 검색하고 포럼프트에 추가하고 새로운 응답을 생성하는 것입니다. 이 Azure AI Studio는 사용자만을 위한 것이며 다른 사람은 사용자의 데이터를 볼 수 없습니다. 이런 레그 패턴이 너무 일반적이라서 몇 번의 클릭만으로 단순화했습니다. 데이터 추가를 클릭하고 데이터 소스 추가로 이동할 수 있습니다. 데이터 소스를 추가할 때는 Azure에서 사용 가능한 다양한 데이터 소스 중에서 선택할 수 있습니다. 또한 이전에 언급했던 새로운 벡터 임베딩이 사용 가능합니다. 이제 데이터를 맵핑합니다. 여기에는 컨텐츠, 파일명, 제목 등이 있습니다. 그런 다음 데이터 저장을 누릅니다. 그리고 데이터 컨텐츠에 기반해서 리스폰스를 하도록 리밋을 하는 기능도 포함되어 있습니다. 그런 다음 데이터 저장을 누르고 이제 이전에 했던 질문을 다시 물어보면 데이터에 기반한 더 나은 답변을 얻을 수 있습니다. 특정한 정책, 예를 들면 트레일마스터 엑스포텐트의 반품 정책에 대해 물어보면 질문이 들어간 후에 데이터를 검색하고 프롬포트에 주입하여 답변을 제공합니다. 이러한 방식으로 사용자는 Azure OpenAI를 사용하여 본인만의 코파일럿을 간편하게 만들 수 있습니다. 모든 것이 API로 공개되어 있으므로 사용자는 모든 애플리케이션에서 이를 사용할 수 있습니다. 다시 말해, 레그 패턴이 이러한 형태로 사용됩니다. 즉, 팩트를 검색하고 프롬포트에 추가하고 새로운 응답을 생성하는 것입니다. 프롬포트 플로우에 대해서 이어서 설명드리겠습니다. 프레임 워크와 API를 이용해서 다양한 언어모델과 데이터 소스를 연결하는 AI 워크플로우를 생성할 수 있습니다. 워크플로우를 구축, 조정, 평가하고 미리 만들어진 지표와 사용자가 지정한 지표로 AI 워크플로우의 품질을 평가하는 것도 가능하게 합니다. 이제 프롬포트 플로우가 어떻게 동작하는지 살펴보겠습니다. 전에 보여드렸던 동일한 아웃드워 회사의 사이트 애플리케이션입니다. 이제 저는 재킷에 대해 질문하고 사용자 재인의 특정 쇼핑카트를 확인해보겠습니다. 실제 장바구니의 물건과 어떻게 잘 어울리는지까지 알려주고 있습니다. 이를 위해 우리는 Azure AI의 새로운 기능인 프롬포트 플로우를 사용하고 있습니다. 프롬포트 구성, 평가, 배포, 테스트, 모니터링까지 가능합니다. Azure AI의 프롬포트 플로우를 사용하면 여러 소스에서 데이터를 가져와 프롬포트에 직접 입력할 수 있습니다. 세 가지를 보여드리겠습니다. 먼저 그래프 프롬포트 모델입니다. 여기가 프롬포트 플로우 그래프이며 JSON 파일처럼 구조화된 정보를 여기로 가져와 프롬포트로 정보를 흘려보낼 수 있다는 것입니다. 이것을 프롬포트 플로우라고 부릅니다. 검색된 카트 노드를 보여드리겠습니다. 이 노드는 카트 아이디를 가져와 간단한 API를 호출하는 것입니다. 사실 제가 지금 보여드린 API는 웹사이트의 카트를 관리하는 정확히 동일한 API입니다. 이 확장성에 대해 멋진 점은 이 때문에 랭체인, 시멘티컨을 또는 다른 데이터 기반 도구 등으로 확장할 수 있다는 것입니다. 이것이 실제 프롬포트입니다. 이 프롬포트는 데이터를 가져오는 텍스트들입니다. 카트의 항목들을 열고하고 프롬포트에 넣는 것을 확인할 수 있습니다. 이것이 실제 응답을 생성할 때 어떻게 알아내는지 보여줍니다. 그 다음은 이것이 모델에 들어가고 응답이 가져와지는 것입니다. 이제 모델을 호출하는 곳으로 한번 가보겠습니다. 이곳에서 바로 모델을 실행할 수 있습니다. 또한 테스트와 배포도 가능하며 응답을 보고 싶다면 여기서 이전에 보았던 응답과 또한 어디에서 얼마나 오래 걸렸는지 실제 추적을 확인할 수 있습니다. 마지막으로 이를 배포하고 앱에서 단일 엔드포인트로 사용할 수 있습니다. 프롬포트 플로우는 개발자들이 여러 소스에서 데이터를 통합하여 풍부한 언어 경험을 생성할 수 있도록 합니다. 프롬포트 플로우는 이 분야에서 처음으로 나온 프롬포트 엔지니어링 도구입니다. 앞서 데모 영상과 같이 이러한 다이어그램 구성이 가능합니다. 다시 말해 고객 특성을 반영하여 의도와 프로덕트를 파악하고 정보를 채집 비트 기반으로 제공하는 복잡한 시나리오를 구현해낼 수가 있습니다. 마지막으로 플러그인에 대해서 말씀드리겠습니다. Azure OpenAI는 고객이 플러그인들을 어떻게 더 효과적으로 사용할 수 있을지에 대해 지속적으로 연구를 하고 있습니다. 특히 다양한 언어에 대한 처리 능력을 좀 더 향상시키기 위해서 노력이 이루어지고 있습니다. OpenAI는 벡터 데이터베이스에 통신하는 검색 플러그인을 보유하고 있어서 이를 Azure OpenAI 통합을 통해 향상된 언어 이해를 가능하게 하려고 하고 있습니다. 그리고 Azure OpenAI는 웹상의 최신 정보와 연결되어 있어서 사용자들에게 가장 유용하고 관련성이 있는 정보를 제공하는 데 초점을 맞추고 있습니다. 좀 더 구체적으로는 Cognitive Search로 본인의 데이터를 기반으로 플러그인 하는 것 이외에 다양한 플러그인이 가능하게 되는 점입니다. 번역, 빙서치 등의 연결이 가능해지게 됩니다. 이 화면과 같이 오른쪽에 빙서치, 번역, Cognitive Search 등을 연동한 플러그인을 이용해서 다양한 기능들을 폭넓게 활용해 나갈 수 있습니다. 이제 AI의 주요 기능 소개를 마무리하도록 하겠습니다. AI는 앞으로 코파일러스 택으로 유연하고 확장성 있게 개발될 것입니다. 저희는 코파일러스 통해서 다양한 비즈니스 루즉을 자연스럽게 텍스트 형태의 서비스로 구현이 가능하게끔 만들 수 있습니다. 코파일러스에서 우리는 모델이 작업에 집중하도록 유지하는 것이 가능해집니다. 그리고 의외에도 비즈니스에서 고려할 수 있는 여러 기능들이 포함되어 있으니 앞으로 마이크로소프트와 함께 만들어 나가면 좋겠습니다. 이상으로 세션 마치겠습니다. 지금까지 발표 들어주셔서 감사합니다. 감사합니다.
